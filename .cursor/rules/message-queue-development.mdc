---
globs: *RocketMQ*/*.cs,*RocketMQ*/*.json
---

# 消息队列开发规范 (RabbitMQ)

## 项目结构
- **RocketMQSender**: 消息发送者
  - 持续发送测试消息
  - 支持单条消息发送
  - 错误处理和重试机制
  - 可配置发送间隔

- **RocketMQSubscriber**: 消息订阅者
  - 订阅并处理消息
  - 异步消息处理
  - 消息确认机制
  - 自动重连功能

## 配置规范
- 使用 `appsettings.json` 进行配置
- 配置项包括：HostName、Port、UserName、Password、QueueName、SendInterval
- 支持开发和生产环境的不同配置

## 开发最佳实践
- 使用连接工厂模式管理 RabbitMQ 连接
- 实现自动重连机制
- 使用异步方法处理消息
- 实现适当的错误处理和日志记录
- 支持优雅关闭和资源清理

## 消息处理
- 使用 JSON 序列化消息内容
- 实现消息确认机制
- 支持消息重试和死信队列
- 记录消息处理状态和性能指标

## 错误处理
- 捕获并记录连接异常
- 实现重试机制
- 提供详细的错误信息
- 支持手动重连功能