# 消息队列项目说明

本项目已成功添加了两个消息队列相关的项目：

## 项目结构

### 1. RocketMQSubscriber (消息订阅者)
- **位置**: `RocketMQSubscriber/`
- **功能**: 订阅并处理RabbitMQ消息
- **特点**: 
  - 使用RabbitMQ作为消息队列
  - 支持异步消息处理
  - 包含消息确认机制
  - 结构化日志记录

### 2. RocketMQSender (消息发送者)
- **位置**: `RocketMQSender/`
- **功能**: 发送消息到RabbitMQ
- **特点**:
  - 持续发送测试消息
  - 支持单条消息发送
  - 错误处理和重试机制
  - 可配置发送间隔

## 技术栈

- **.NET 10.0**: 目标框架
- **RabbitMQ.Client**: 消息队列客户端库
- **Microsoft.Extensions.Hosting**: 托管服务支持
- **Microsoft.Extensions.Logging**: 日志记录
- **Microsoft.Extensions.Configuration**: 配置管理

## 配置说明

两个项目都使用 `appsettings.json` 进行配置：

```json
{
  "MessageQueue": {
    "HostName": "localhost",
    "Port": 5672,
    "UserName": "guest",
    "Password": "guest",
    "QueueName": "test-queue"
  }
}
```

## 运行方式

### 启动消息订阅者
```bash
cd RocketMQSubscriber
dotnet run
```

### 启动消息发送者
```bash
cd RocketMQSender
dotnet run
```

## 前置条件

在运行项目之前，需要确保：

1. **RabbitMQ服务器已安装并运行**
   - 默认连接地址: `localhost:5672`
   - 默认用户名/密码: `guest/guest`

2. **.NET 10.0 SDK已安装**

## 项目特性

### 消息订阅者特性
- 自动重连机制
- 消息确认处理
- 错误处理和重试
- 优雅的服务停止

### 消息发送者特性
- 定时发送消息
- 消息ID生成
- 时间戳记录
- 用户交互控制

## 扩展建议

1. **添加更多消息队列支持**: 可以扩展支持其他消息队列如Apache Kafka、Azure Service Bus等
2. **消息序列化**: 支持JSON、Protobuf等序列化格式
3. **监控和指标**: 添加消息处理统计和性能监控
4. **配置管理**: 支持环境变量和更复杂的配置选项

## 注意事项

- 项目名称保留了"RocketMQ"前缀，但实际使用的是RabbitMQ
- 如需使用真正的RocketMQ，需要替换相应的客户端库和配置
- 建议在生产环境中使用更安全的认证配置
